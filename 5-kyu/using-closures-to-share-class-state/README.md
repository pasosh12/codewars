<h2><a href=https://www.codewars.com/kata/53583765d5493bfdf5001b35/train/javascript target="_blank">Using closures to share class state</a></h2><h3>5 kyu</h3><p>In object-oriented programming, it is sometimes useful to have private shared state among all instances of a class; in other languages, like ruby, this shared state would be tracked with a class variable.  In javascript we achieve this through closures and immediately-invoked function expressions.</p><p>In this kata, I want you to write make a <code>Cat</code> constructor that takes arguments <code>name</code> and <code>weight</code> to instantiate a new cat object.  The constructor should also have an <code>averageWeight</code> method that returns the average weight of cats created with the constructor.</p><pre><code class="language-javascript"><span class="cm-variable">garfield</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cat</span>(<span class="cm-string">'garfield'</span>, <span class="cm-number">25</span>);<span class="cm-variable">Cat</span>.<span class="cm-property">averageWeight</span>(); <span class="cm-comment">// 25</span><span class="cm-variable">felix</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cat</span>(<span class="cm-string">'felix'</span>, <span class="cm-number">15</span>);<span class="cm-variable">Cat</span>.<span class="cm-property">averageWeight</span>();   <span class="cm-comment">// now 20</span></code></pre><p>But that's not all.  Cats can change weight. Use <code>Object.defineProperty</code> to write custom setters and getters for the weight property so that the following works properly even as instances change their weight value:</p><pre><code class="language-javascript"><span class="cm-variable">felix</span>.<span class="cm-property">weight</span> <span class="cm-operator">=</span> <span class="cm-number">25</span>;<span class="cm-variable">felix</span>.<span class="cm-property">weight</span> <span class="cm-comment">// 25</span><span class="cm-variable">Cat</span>.<span class="cm-property">averageWeight</span>(); <span class="cm-comment">// now 25</span></code></pre><p><code>Object.defineProperty</code> must be used to pass all tests.  Storing a reference to all instances and recalculating the average weight each time is easier, but would prevent garbage collection from working properly if used in a production environment.  </p><p>Finally, since average weight is an aggregate statistic it's important that we validate constructor arguments so that no cats are created without a specified weight; so, make sure to throw an error if both arguments are not recieved by the constructor.</p><h1 id="summary-of-requirements">Summary of requirements:</h1><ol><li><code>Cat</code> constructor, requiring arguments for <code>name</code> and <code>weight</code></li><li>Throw an error if <code>name</code> or <code>weight</code> not specified when invoking the constructor.</li><li><code>Cat.averageWeight()</code> method should give the average weight of all cat instances created with <code>Cat</code>, even after if the instance's properties have changed.</li><li>Must use <code>Object.defineProperty</code></li></ol>